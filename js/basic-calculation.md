# การคำนวณเบื้องต้น

:::warning DRAFT
This is a draft content and may be incomplete or inaccurate.
:::

## เปิด JavaScript Console

- ใน Google Chrome ให้เข้าไปที่หน้าเว็บสักหน้า
    หากต้องการไปหน้าเปล่าๆ ให้ใส่ URL `about:blank`

- หลังจากนั้นคลิกขวาที่พื้นที่ว่าง แล้วเลือก **Inspect**

- เครื่องมือสำหรับนักพัฒนา หรือที่เราเรียกกันว่า **Dev Tools** จะโผล่ขึ้นมา
    โดยปกติแล้วมันจะโผล่มาทางด้านขวาของหน้าเว็บ
    แต่เราสามารถกดที่จุด 3 จุด เพื่อย้ายมันไปด้านซ้าย ด้านล่าง หรือจะให้มันขึ้นเป็นหน้าต่างใหม่ก็ได้

- นอกจากนี้เราสามารถกดที่เฟืองด้านบนสุด เพื่อปรับธีมให้เป็นธีมมืด หรือสว่างก็ได้ครับ

- ใน Dev Tools จะประกอบไปด้วยแท็บหลายๆ แท็บ

- ในแท็บ **Elements**
    เราสามารถตรวจสอบองค์ประกอบต่างๆ ที่อยู่บนหน้าเว็บได้
    ซึ่งตอนที่เราสร้างเว็บแอปพลิเคชั่น เดี๋ยวเราจะได้ใช้กันครับ

- ส่วนในแท็บ **Console**
    จะเป็นที่ที่เราสามารถพิมพ์คำสั่งภาษา JavaScript เข้าไป
    พอเรากดปุ่ม Enter โค้ดของเราก็จะทำงาน
    เรียกว่าเป็นการ “run” โค้ด
    ในคอร์สนี้เราจะใช้แท็บนี้เป็นหลักครับ

## ลองคำนวณกัน

- ผมจะลองให้คอมพิวเตอร์คำนวณดูว่า 123 * 456 เท่ากับเท่าไหร่

    ```js
    123 * 456
    ```

    ตัวคอนโซลจะตอบกลับมาว่า

    ```js
    56088
    ```

    หลังจากนั้น คอนโซลก็จะรอให้เราพิมพ์โค้ดบรรทัดถัดไป

## REPL

- จากมุมมองของตัวคอนโซล สิ่งที่เกิดขึ้น สามารถแบ่งเป็น 4 ขั้นตอนใหญ่ๆ ได้ดังนี้ครับ

    1. **Read** — ตัวคอนโซล รอให้เราพิมพ์โค้ด เพื่อที่มันจะได้ “อ่าน” โค้ดที่เราพิมพ์
        จากตัวอย่างมะกี๊ สิ่งที่คอนโซลอ่านได้ก็คือข้อความที่เราพิมพ์ (`123 * 456`)

    2. **Evaluate** — ตัวคอนโซล นำโค้ดที่เพิ่งอ่านไป ส่งไปให้สิ่งที่เรียกว่า “JavaScript Engine”[^js-engine] เพื่อเอาไปหาผลลัพธ์ครับ
        ในขั้นตอนนี้ โค้ดของเราจะผ่านหลายกระบวนการต่างๆ
        แต่สุดท้ายแล้ว เราจะได้ผลลัพธ์ออกมาเป็น **“ค่า”** ค่านึงครับ
        โดยคำว่า “ค่า” ในที่นี้
        หมายถึง ข้อมูลที่สามารถประมวลผลโดยคอมพิวเตอร์ได้
        ในที่นี้ ค่าที่ได้ออกมา คือตัวเลข 56088

    3. **Print** — เอาค่าหรือผลลัพธ์ที่ได้ มาแสดงผลบนหน้าจอครับ[^print]

    4. **Loop** — วนกลับไปข้อ 1
        ก็คือรอให้เราพิมพ์โค้ดบรรทัดต่อไปครับ

    หรือที่เรียกกันสั้นๆ ว่า REPL หรือ Real–eval–print loop ครับ

[^js-engine]: ซอฟต์แวร์เว็บเบราเซอร์ที่เราใช้กัน ประกอบไปด้วยชิ้นส่วนย่อยหลายๆ ส่วน
    และหนึ่งในนั้นคือ JavaScript Engine ที่มีหน้าที่รันโค้ดที่เป็นภาษา JavaScript ทำให้โปรแกรมที่เขียนด้วยภาษา JavaScript ทำงานได้ในเบราเซอร์
    แต่ละเบราเซอร์ก็จะมี JS Engine ที่แตกต่างกันออกไป
    เช่น JS Engine ที่อยู่ใน Google Chrome ชื่อว่า V8,
    ที่อยู่ใน Safari ชื่อว่า JavaScriptCore,
    ที่อยู่ใน Firefox ชื่อว่า SpiderMonkey


[^print]: คอมพิวเตอร์สมัยก่อนไม่มีหน้าจอ
    ในยุคนั้น คอมพิวเตอร์แสดงผลลัพธ์ของการคำนวณ โดยการ print ลงไปบนกระดาษ
    [คลิปวีดีโอนี้ โชว์ตัวอย่างจากคอมพิวเตอร์เมนเฟรม IBM 1401 จากปี 1959](https://youtu.be/dc5PpE56qPw?t=558)
    แต่ผ่านมาแล้วกว่า 60 ปี ปัจจุบันเราก็ยังใช้คำว่า print เวลาจะแสดงผลลัพธ์บนคอนโซลกันอยู่
    ตัวอย่างเช่นในภาษา C (`printf`) หรือ Java (`System.out.println`)
    ส่วน JavaScript บนเบราเซอร์ ฟังก์ชัน `print` เอาไว้สั่งให้เบราเซอร์ print หน้าปัจจุบันผ่านเครื่องพิมพ์ครับ
    โดยคำสั่งที่ใช้แสดงผลข้อมูลบนคอนโซล ชื่อว่า `console.log` ซึ่งเดี๋ยวเราจะได้ใช้งานในบทเรียนต่อๆ ไป

## Evaluation

- โดยขั้นตอนที่เป็นตัวสำคัญ คือขั้นตอนที่ 2 — ขั้นตอนการ Evaluate ซึ่งเป็นขั้นตอนที่โค้ดที่เราเขียน ถูกนำมารัน เพื่อหาผลลัพธ์ครับ
    มาดูกันว่าเกิดอะไรขึ้นบ้าง
    (ในส่วนนี้ถ้ายังไม่เข้าใจทั้งหมดก็ไม่เป็นไรนะครับ)

- ขั้นแรก โค้ดของเราจะผ่านสิ่งที่มักเรียกกันว่า Tokenizer[^lex]
    โดยหน้าที่ของมันคือ แยกโค้ดออกมาเป็นชิ้นๆ โดยแต่ละชิ้นเรียกว่า Token ครับ

- หลังจากนั้น Token พวกนี้ จะผ่านสิ่งที่เรียกว่า Parser
    หน้าที่ของมันคือ วิเคราะห์โค้ดตามหลักไวยากรณ์ภาษาครับ
    ทำให้โค้ดของเราอยู่ในรูปของโครงสร้างข้อมูล[^ast] ที่สามารถนำไปประมวลผลต่อได้ง่ายขึ้นครับ

- โดยโครงสร้างไวยากรณ์แต่ละอัน มีกฏที่ระบุไว้ชัดเจน ว่าจะหาผลลัพธ์ยังไง
    เช่น ถ้าต้องการหาผลลัพธ์ของโครงสร้างอันนี้
    ให้หาผลลัพธ์ของกิ่งข้างซ้ายก่อน ตามด้วยกิ่งข้างขวา
    เสร็จแล้วเอาตัวเลขที่ได้มาคูณกัน ก็จะได้เป็นคำตอบครับ

## เครื่องหมายที่ใช้ในการคำนวณทางคณิตศาสตร์

| เครื่องหมาย | หน้าที่ |
| ----- | ----- |
| `+` | บวก |
| `-` | ลบ |
| `*` | คูณ |
| `/` | หาร |
| `%` | หารเอาเศษ |
| `**` | ยกกำลัง |

## Exercise time

- เอาล่ะ เจอกับทฤษฎีมาเยอะพอแล้ว เดี๋ยวเราลองไปทำแบบฝึกหัดกันดีกว่าครับ

[^lex]: จริงๆ มีหลายชื่อ
    บางที่ก็เรียกว่า Lexer
    บางที่ก็เรียกว่า Scanner

[^ast]: โครงสร้างข้อมูลนี้เรียกว่า “Abstract Syntax Tree” หรือ AST
    แปลเป็นภาษาไทยได้ว่า “โครงสร้างต้นไม้วากยสัมพันธ์แบบนามธรรม”
    ในทางปฏิบัติ แทบจะไม่มีใครใช้คำแปลภาษาไทยนี้เลย เพราะยิ่งแปลก็ยิ่งงง
