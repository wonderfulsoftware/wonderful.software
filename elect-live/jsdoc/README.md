---
authors:
  - dtinth
---

# สละเวลาเขียน JSDoc สักนิด ไม่ใช่แค่ทำให้คนอื่นอ่านโค้ดเราเข้าใจง่ายขึ้น แต่ช่วยให้เขียนโค้ดได้เร็วขึ้นอีกด้วย

<author-list></author-list>

ปกติ JSDoc เราเอาไว้เขียน Documentation ว่าโค้ดของเราใช้ยังไง

หลายครั้งที่เราเจอโค้ดแบบนี้

```js
function calculateStats(data, options) {
    /* โค้ดอีก 100 บรรทัด */
```

ซึ่งพอเห็นโค้ดแบบนี้
ก็จะเกิดคำถามขึ้นมาทันที ว่า…

- `data` มันหน้าตายังไง
  เป็น array หรือ object
- `options` ใส่ค่าอะไรเข้าไปได้บ้าง
- ของที่ return ออกมาหน้าตาเป็นยังไง

แต่ถ้าเราใส่ JSDoc เข้าไปสักนิด…

```js{1-6}
/**
 * @param {number[]} data
 * @param {object} options
 * @param {boolean} options.approximate
 * @returns {{ mean: number, variance: number }}
 */
function calculateStats(data, options) {
```

ช่วยให้สามารถตอบทั้ง 3 คำถามด้านบนได้เลย
เพียงแค่อ่านตรงหัวฟังก์ชัน

แต่นอกจากนี้
**Visual Studio Code ยังสามารถอ่านโค้ด JSDoc ของเรา
เพื่อช่วยให้เราเขียนโค้ดและแก้โค้ดได้สะดวกขึ้นอีกด้วย**
(อ่านรายละเอียดเพิ่มเติมได้ใน[คู่มือ VS Code เกี่ยวกับ JS Doc Support](https://code.visualstudio.com/docs/languages/javascript#_js-doc-support))

## ตัวอย่างการใช้ JSDoc เพื่อให้เขียนโค้ดสะดวกขึ้น

ตัวอย่างต่อไปนี้
ถ้าเกิดเอา JSDoc ออก
VS Code จะไม่สามารถช่วยเราได้...

เวลาเราเขียนฟังก์ชัน
ถ้ากำหนดชนิดของ parameter แล้ว
VS Code จะสามารถช่วย auto complete พวก method ต่างๆ ใน parameter ที่เรารับค่าเข้ามาได้

![](./Screen_Shot_2019-04-08_at_17-d486c5c5-e299-4817-b57a-ecd2fddeb49a.20.14.png)

(พอ VS Code รู้ว่า options ของเราเก็บอะไรได้บ้าง
ก็ช่วย autocomplete ค่าต่างๆ ใน options ได้)

![](./Screen_Shot_2019-04-08_at_17-dfb95a9a-2383-4877-8c55-88117fcb1256.16.51.png)

(พอ VS Code รู้ว่า data เป็น array ที่เก็บตัวเลข
ก็สามารถแนะนำ method พวกนี้ได้)

![](./Screen_Shot_2019-04-08_at_17-1a3031be-7894-4c4b-9e56-2298af988f30.17.35.png)

(เนื่องจากกำหนด return type ไว้
ตอนที่เขียนโค้ด VS Code จึงสามารถช่วย autocomplete สิ่งที่ต้อง return ออกมาจากฟังก์ชันได้)

นอกจากตอนเขียนฟังก์ชัน
ตอนเอาฟังก์ชันไปใช้ VS Code ก็สามารถแนะนำได้

![](./Screen_Shot_2019-04-08_at_17-badcc5a6-349c-4c8b-8f99-ebe58171e907.25.21.png)

## ตัวอย่างการใช้ JSDoc กับ React

ปกติเวลากำหนดหน้าตาของ props ให้ React Component ต่างๆ
เรามักจะใช้ `propTypes`
แต่ปัญหาคือ
การกำหนด type ด้วยวิธีนี้ เป็นท่าเฉพาะของ React
ทำให้พวก text editor ต่างๆ ไม่สามารถช่วยเราได้

![](./Screen_Shot_2019-04-08_at_17-bae26347-228a-4753-a206-30312033808e.30.30.png)

(ตกลงใส่ size อะไรได้บ้างนี่... ถ้าคอมโพเนนต์อยู่อีกไฟล์คงต้องเปิดโค้ดตามเข้าไปดู)

ถ้าหากเราใช้ JSDoc แทน propTypes
จะเห็นว่า VS Code สามารถช่วย autocomplete ได้แม้กระทั่งค่าของ props ต่างๆ ที่เรากำหนดขึ้นเอง

![](./Screen_Shot_2019-04-08_at_17-85c01519-c880-4b3e-8209-01b69a3d3c84.31.47.png)

นอกจากนี้
หากเราต้องการเปลี่ยนชื่อ prop ใดๆ
เราสามารถกดปุ่ม F2 เพื่อเปลี่ยนชื่อ prop นั้นได้เลย
โดย VS Code จะทำการแก้โค้ดทุกที่ ที่มีการเรียกใช้ component นี้ ให้โดยอัตโนมัติ

![](./p-08b13322-8be2-4b09-960f-4b5f051d8b96.png)

## DX

จะเห็นว่าการเขียน JSDoc เป็นอีกวิธีที่จะช่วยทำให้ [DX](../dx/) ของโปรเจกต์เราดีขึ้น
เพราะทำให้สามารถเข้าใจโค้ดและเขียนโค้ดได้เร็วขึ้น
และสามารถ refactor โค้ดได้ง่ายขึ้นครับ
